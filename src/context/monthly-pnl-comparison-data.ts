// Custom CSV parser
const parseCSV = (csvData: string) => {
  const lines = csvData.trim().split('\n');
  const headers = lines[0].split(',');
  
  return lines.slice(1).map(line => {
    const values = line.split(',');
    return headers.reduce((obj: any, header, index) => {
      obj[header.trim()] = header === 'date' ? values[index].trim() : parseFloat(values[index]);
      return obj;
    }, {});
  });
};

import { SettlementCodeColorMap, SettlementCode } from '../utils/SettlementCodeColorMap';

const csvData = `date,Type,RT AS Imbalance,RT Reliability Deployment AS Imbalance,RT Energy Imbalance,ECRS,Non Spin,RRS,Reg Up,Reg Down,DA Energy
2024-01-01,Historical Actuals,1594.44878,37280.38576,26035.372,41448.89,0,3076083.195,0,0,0
2024-02-01,Historical Actuals,1.28698125,2941.180433,16458.717,13901.13,0,151712.228,32804.38,0,0
2024-03-01,Historical Actuals,3193.091032,22587.82552,69092.493,35933.22,0,499831.598,51216.725,0,0
2024-04-01,Historical Actuals,30612.85264,37710.55521,168341.487,44932.27,0,806115.7755,42080.7495,0,0
2024-05-01,Historical Actuals,8946.883102,6501.555428,658430.654,279106.15,0,1648893.768,24857.929,0,0
2024-06-01,Historical Actuals,43.87062185,3685.824049,185922.174,10201.75,0,358236.688,24158.189,0,0
2024-07-01,Historical Actuals,1108.191395,3185.13549,21374.239,-12383.62,0,302416.352,32280.469,0,0
2024-08-01,Historical Actuals,29208.15824,8207.42716,95537.226,32587.67,0,1141636.797,35851.247,0,0
2024-09-01,Historical Actuals,1060.010268,5358.805617,1558.562,-10387.37,0,223382.431,24257.982,0,0
2024-10-01,Historical Actuals,1176.903559,16398.81904,69.85,99854.61,0,508526.446,23667.459,0,0
2024-11-01,Historical Actuals,13.59950667,1719.801754,0,65661.55,0,7496.45,1832.2575,0,0
2024-01-01,EQ Backtest,18464.5712,1094.620029,-158249.1698,1459202.887,182446.527,313116.027,874558.644,835237.094,446830.497
2024-02-01,EQ Backtest,1460.24269,0.946633637,-20606.24416,166707.043,34656.796,99347.899,33580.658,25822.279,15045.667
2024-03-01,EQ Backtest,13265.51613,2065.976339,-41126.17652,454810.967,167203.827,135436.711,124282.168,54156.662,72017.864
2024-04-01,EQ Backtest,26523.3713,32999.838,-217980.5485,732702.847,184033.027,104082.686,398478.559,119220.853,149208.107
2024-05-01,EQ Backtest,4799.833424,11859.3506,-268381.0761,2671181.222,1133878.904,135993.21,394367.882,375912.358,475988.688
2024-06-01,EQ Backtest,3161.609689,97.64436789,-152057.6369,810143.235,116591.764,136514.465,69094.778,129331.819,192193.089
2024-07-01,EQ Backtest,1713.383374,596.1008862,-64982.26457,265546.752,22263.937,156126.393,52828.588,62908.823,71362.916
2024-08-01,EQ Backtest,7485.722033,34290.56842,-43237.33615,615441.273,37446.131,230394.106,390346.702,312541.5,370114.68
2024-09-01,EQ Backtest,3251.814503,953.1468265,-96653.0068,119719.266,19685.941,188112.649,9725.639,23074.299,78313.783
2024-10-01,EQ Backtest,12206.99436,1154.302031,-147541.6043,178118.319,59999.419,236513.625,216215.26,54455.573,269532.529
2024-11-01,EQ Backtest,1971.360539,47.39882878,-24686.35141,18781.678,19777.906,24813.804,20665.116,3285.545,14422.234
2024-01-01,Perfect Foresight,50571.53367,3427.815995,-121391.2208,1687197.323,233523.488,849066.796,287470.849,854651.604,614945.075
2024-02-01,Perfect Foresight,4486.347063,2.287938234,82954.87788,172631.403,32916.059,95510.651,16390.489,40405.995,29447.221
2024-03-01,Perfect Foresight,21055.8189,5681.830713,97727.51887,486859.753,166029.153,161714.783,47984.084,99825.944,158805.783
2024-04-01,Perfect Foresight,22974.92077,15353.21509,121310.6577,820082.332,197532.717,143875.462,200644.486,105809.438,256276.152
2024-05-01,Perfect Foresight,6901.058462,6455.295189,-132092.0519,2817083.059,1111396.974,88670.369,244469.289,386915.958,870525.199
2024-06-01,Perfect Foresight,3415.778221,139.7753189,-65061.50955,809048.672,124960.24,119372.992,66426.725,165985.115,259745.007
2024-07-01,Perfect Foresight,1683.716077,873.4422708,-26651.29139,265662.116,21548.983,174906.497,23568.84,78699.743,112574.516
2024-08-01,Perfect Foresight,6684.646909,21131.35373,164224.0944,714272.3,44428.823,326930.132,197739.257,260298.734,567408.257
2024-09-01,Perfect Foresight,6201.192877,1770.820228,18471.5477,103103.44,18524.932,156460.102,18691.87,41787.468,117739.693
2024-10-01,Perfect Foresight,13816.33398,1127.018674,-79315.8121,177680.148,60764.086,228097.856,183530.256,45155.101,350877.805
2024-11-01,Perfect Foresight,5235.783356,14.90777228,45619.08369,19116.373,20053.524,26765.523,9267.102,4578.556,11339.751`;

export interface MonthlyPnLComparisonData {
  date: string;
  Type: 'Historical Actuals' | 'EQ Backtest' | 'Perfect Foresight';
  [key: string]: string | number;
}

export const monthlyPnLComparisonData = parseCSV(csvData);